@model List<ImageSharing.Models.EntityInfo.PostInfo>

<div id="PostsConsoleContainer">
    @using (Html.BeginForm("ChangePosts", "AdminHome", FormMethod.Post, new { area = "Admin", enctype = "multipart/form-data" }))
    {
        <table>
            <thead>
                <tr>
                    <td>ID</td>
                    <td>Author ID</td>
                    <td>Date and time</td>
                    <td>Description</td>
                    <td>ImagePath</td>
                    <td>Action</td>
                </tr>
            </thead>
            @for (int i = 0; i < Model.Count(); i++)
            {
                <tr>
                    <td>
                        <input type="text" value="@Model[i].ID" name="posts[@i].ID" readonly="true" /></td>
                    <td>
                        <input type="text" value="@Model[i].Author.ID" name="posts[@i].Author.ID" readonly="true"/></td>
                    <td>
                        <input type="text" value="@Model[i].DateTime" name="posts[@i].DateTime" /></td>
                    <td>
                        <input type="text" value="@Model[i].Description" name="posts[@i].Description" /></td>
                    <td>
                        <input type="text" value="@Model[i].ImagePath" readonly="true"/><input type="file" name="images[@i]" /></td>
                    <td>@Html.ActionLink("Delete", "DeletePost", "AdminHome", new { area = "Admin", id = Model[i].ID }, null)</td>
                </tr> 
            }
        </table>
        <input type="submit" value="Save" />
    }
    <div id="AdministrationConsoleAddCommentContainer">
        @using (Html.BeginForm("AddPost", "AdminHome", FormMethod.Post, new { area = "Admin", enctype = "multipart/form-data" }))
        {
            <table>
                <thead>
                    <tr>
                        <td>Author ID</td>
                        <td>Description</td>
                        <td>ImagePath</td>
                        <td>Action</td>
                    </tr>
                </thead>
                <tr>
                    <td>
                        <input data-val="true" data-val-required="The AuthorID	 field is required." id="AuthorID" name="AuthorID" type="text" value="" class="input-validation-error" /></td>
                    <td>
                        <input type="text" name="Description" /></td>
                    <td>
                        <input data-val="true" data-val-required="The Image	 field is required." type="file" name="Image" id="Image" class="input-validation-error" /></td>
                    <td>
                        <input type="submit" value="Add" /></td>
                </tr>
            </table>
            <span class="field-validation-valid" data-valmsg-for="AuthorID" data-valmsg-replace="true"></span><br />
            <span class="field-validation-valid" data-valmsg-for="Image" data-valmsg-replace="true"></span><br />
        }
        <script type="text/javascript">
            function ValidateIntValue(event) {
                if (event.keyCode <= 48 || event.keyCode >= 57) {
                    $(AuthorID).val("");
                }
            }
            $(AuthorID).keyup(ValidateIntValue);
        </script>
    </div>
    <script src="~/Scripts/jquery-ui-1.8.24.min.js"></script>
    @Scripts.Render("~/bundles/jqueryval")
</div>